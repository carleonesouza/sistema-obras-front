<div class="flex flex-col w-full">

    <ng-container *ngIf="!loading; else noItems">
        <!-- View mode -->
        <ng-container *ngIf="!editMode && !creating">
            <!-- Header -->
            <div class="relative w-full h-40 sm:h-48 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
                <!-- Background -->
                <ng-container>
                    <img class="absolute inset-0 object-cover w-full h-full">
                </ng-container>
                <!-- Close button -->
                <div class="flex items-center justify-end w-full mx-auto pt-6">
                    <button mat-icon-button [matTooltip]="'Fechar'" [routerLink]="['../']">
                        <mat-icon class="text-black" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>
                </div>
            </div>

            <div class="relative flex flex-col flex-auto items-center pt-0 sm:p-12 sm:pt-0" *ngIf="obra">

                <div class="w-full">

                    <!-- Avatar and actions -->
                    <div class="flex flex-auto items-end -mt-16">
                        <!-- Avatar -->
                        <div
                            class="flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">

                            <div
                                class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                {{obra.empreendimento.empreendimento?.nome.charAt(0)}}
                            </div>
                        </div>
                        <!-- Actions -->
                        <div class="flex items-center ml-auto mb-1">
                            <button mat-raised-button [color]="'primary'" [matTooltip]="'Editar'"
                                (click)="toggleEditMode(true)">
                                <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:pencil-alt'"></mat-icon>
                                <span class="ml-2">Editar</span>
                            </button>
                        </div>
                    </div>
                    <!-- Name -->
                    <div class="mt-3 text-4xl font-bold truncate">{{obra.empreendimento.empreendimento.nome}}</div>
                    <div class="mt-6">
                        <mat-chip-list aria-label="Fish selection">
                            <mat-chip *ngIf="obra.empreendimento.empreendimento.status === '1'"
                                class="ind-active">Ativo</mat-chip>
                            <mat-chip *ngIf="obra.empreendimento.empreendimento.status === '0'"
                                class="ind-deactived">Encerrado</mat-chip>
                        </mat-chip-list>
                    </div>

                    <div class="mt-6 w-full">
                        <h3 class="text-3xl">Detalhes da Obra {{obra?.tipo.charAt(0).toUpperCase() +
                            obra?.tipo.slice(1)}}
                        </h3>
                    </div>

                    <div class="flex flex-col mt-4">

                        <ng-container>
                            <div class="flex justify-between gap-3 pb-2">
                                <div
                                    class="flex items-center  w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                    <mat-icon class="mr-2" [svgIcon]="'heroicons_outline:document-text'"></mat-icon>
                                    <div class="font-mono text-primary-500">
                                        <span class="font-bold">Responsável:
                                        </span>{{obra.empreendimento.empreendimento.responsavel}}
                                    </div>
                                </div>

                                <div
                                    class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                    <mat-icon class="mr-2" [svgIcon]="'mat_solid:room_preferences'"></mat-icon>
                                    <div class="font-mono text-primary-500">
                                        <span class="font-bold">Descrição: </span>{{obra?.descricao }}
                                    </div>
                                </div>

                            </div>
                        </ng-container>

                    </div>


                    <!--Informações Comuns-->
                    <ng-container>
                        <div class="flex flex-col">
                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:date_range'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Data Conclusão: </span>{{obra?.dataConclusao | date:
                                            'dd/yyyy'}}
                                        </div>
                                    </div>
                                </div>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:date_range'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Data Início: </span>{{obra?.dataInicio | date:
                                            'dd/yyyy'}}
                                        </div>
                                    </div>

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:date_range'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Data Base do Orçamento:
                                            </span>{{obra?.data_base_orcamento | date: 'dd/yyyy'}}
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:map'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Latitude: </span>{{obra?.latitude }}
                                        </div>
                                    </div>

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:map'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Longitude: </span>{{obra?.longitude }}
                                        </div>
                                    </div>


                                </div>
                            </ng-container>
                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:my_location'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Estado: </span>{{obra?.uf.uf.descricao }}
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2"
                                    *ngFor="let municipio of obra?.municipios; let i = index;">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:my_location'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Município: </span>{{ municipio.nome}}
                                        </div>
                                    </div>
                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:folder'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Documentos Adicionais:
                                            </span>{{obra?.documentosAdicionais }}
                                        </div>
                                    </div>
                                </div>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:folder'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Arquivo Georreferenciado: </span>
                                            {{obra?.arquivoGeorreferenciado }}
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:attach_money'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Valor Global:</span> {{obra?.valorGlobal |
                                            currency:'BRL' }}
                                        </div>
                                    </div>

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2">percent</mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Percentual Financeiro Executado:</span>
                                            {{obra?.percentualFinanceiroExecutado }}%
                                        </div>
                                    </div>

                                </div>
                            </ng-container>



                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:add_road'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Extensão:</span> {{ obra?.extensao }} (em metros)
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:fact_check'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold">Status:</span> {{ obra?.status.status?.descricao }}
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <ng-container *ngFor="let produto of obra?.produtos; let i = index;">
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:inventory_2'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold"> Produto:</span> {{ produto.descricao }}
                                        </div>
                                    </div>
                                </div>
                            </ng-container>

                            <ng-container>
                                <div class="flex justify-between gap-3 pb-2">
                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:construction'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold"> Tipo Infraestrutura: </span>{{
                                            obra?.tipo_infraestrutura?.tipo_infraestrutura?.descricao }}
                                        </div>
                                    </div>

                                    <div
                                        class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                        <mat-icon class="mr-2" [svgIcon]="'mat_solid:room_preferences'"></mat-icon>
                                        <div class="font-mono text-primary-500">
                                            <span class="font-bold"> Intervenção:</span> {{
                                            obra?.intervencao?.intervencao?.descricao }}
                                        </div>
                                    </div>

                                </div>
                            </ng-container>

                            <!--Obra Áerea-->
                            <ng-container *ngIf="obra?.tipo ==='Aeroportuário'">

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:code'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold"> Código IATA:</span> {{ obra?.codigoIATA }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:flight'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Tipo de Avião que será Recebido com base no
                                                    Cadastro da
                                                    ICAO:</span> {{ obra?.tipoAviaoRecICAO }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:grass'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nova Área Criada:</span> {{ obra?.novaAreaCriada
                                                }}
                                            </div>
                                        </div>
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:straighten'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nova Largura:</span> {{ obra?.novaLargura }} (em
                                                metros)
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>



                            </ng-container>

                            <!--Obra Dutovária-->
                            <ng-container *ngIf="obra?.tipo ==='Dutoviário'">
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    valve
                                                </span></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Tipo de Duto:</span> {{
                                                obra?.tipo_duto?.tipo_duto?.descricao
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:home_work'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Função da Estrutura:</span> {{
                                                obra?.funcao_estrutura?.funcao_estrutura?.descricao
                                                }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>


                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    tools_level
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nível do Duto:</span> {{
                                                obra?.nivel_duto?.nivel_duto?.descricao }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2"
                                                [svgIcon]="'mat_solid:emoji_transportation'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Material Transportado:</span> {{
                                                obra?.materialTransportado }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:trip_origin'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Código de Origem: </span>{{ obra?.codigoOrigem
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:pin_drop'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Código de Destino:</span> {{ obra?.codigoDestino
                                                }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>



                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    signature
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nome XRL:</span> {{ obra?.nomeXRL }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    bia
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Espessura:</span> {{ obra?.espessura }} (em
                                                metros)
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    format_text_overflow
                                                </span></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Vazão do Projeto:</span> {{ obra?.vazaoProjeto
                                                }}
                                                (m³/dia)
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    rebase_edit
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Vazão Operacional:</span> {{
                                                obra?.vazaoOperacional
                                                }}
                                                (m³/dia)
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    sword_rose
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nova Área Impactada:</span> {{
                                                obra?.novaAreaImpactada
                                                }}
                                                (Hac.)
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                            </ng-container>

                            <!--Obra Hidroviária-->
                            <ng-container *ngIf="obra?.tipo ==='Hidroviário'">
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:sailing'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Situação da Hidrovia:</span> {{
                                                obra?.situacaoHidrovia
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2"><span class="material-symbols-outlined">
                                                    gate
                                                </span></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">A Hidrovia tem Eclusa: </span>{{ obra?.temEclusa
                                                }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:border_all'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">A Hidrovia tem Barragem:</span> {{
                                                obra?.temBarragem }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:directions_boat'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Tipo de Embarcação: </span>{{
                                                obra?.tipoEmbarcacao
                                                }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:houseboat'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Haverá Ampliação na Capacidade de
                                                    Passageiros,
                                                    de Carga
                                                    ou
                                                    Ambos: </span>{{ obra?.ampliacaoCapacidade }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    flex_direction
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Profundida Mínima: </span>{{
                                                obra?.profundidadeMinima
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    footprint
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Profundida Máxima:</span> {{
                                                obra?.profundidadeMaxima }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">diversity_3</mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Comboios de Cheia:</span> {{ obra?.comboiosCheia
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:reduce_capacity'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Comboios de Estiagem:</span> {{
                                                obra?.comboiosEstiagem }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>



                            </ng-container>

                            <!--Obra Ferroviária-->
                            <ng-container *ngIf="obra?.tipo ==='Ferroviário'">
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:directions'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">KM Inicial:</span> {{
                                                obra?.kmInicial
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    signpost
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">KM Final:</span> {{ obra?.kmFinal }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    package_2
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nova Bitola:</span> {{
                                                obra?.bitola?.bitola.descricao }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    directions_alt
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Nova Velocidade:</span> {{ obra?.novaVelocidade
                                                }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:360'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Capacidade Dinâmica:</span> {{
                                                obra?.capacidadeDinamica }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>


                            </ng-container>

                            <!--Obra Portuária-->
                            <ng-container *ngIf="obra?.tipo ==='Portuário'">
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:directions_boat'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Tipo Embarcação:</span> {{
                                                obra?.tipoEmbarcacao
                                                }}
                                            </div>
                                        </div>
                                    </div>
                                </ng-container>
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    hallway
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Haverá Ampliação na Capacidade de
                                                    Passageiros,
                                                    de Carga
                                                    ou
                                                    Ambos:</span> {{ obra?.ampliacaoCapacidade }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    settings_panorama
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Novo Calado:</span> {{
                                                obra?.novoCalado }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    hallway
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Capacidade Dinâmica:</span> {{
                                                obra?.capacidadeDinamica }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>

                            </ng-container>

                            <!--Obra Rodoviária-->
                            <ng-container *ngIf="obra?.tipo ==='Rodoviário'">
                                <ng-container>
                                    <div class="flex justify-between gap-3 pb-2">
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:directions'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">KM Inicial:</span> {{
                                                obra?.kmInicial
                                                }}
                                            </div>
                                        </div>
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    signpost
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">KM Final:</span> {{ obra?.kmFinal }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2" [svgIcon]="'mat_solid:trip_origin'"></mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Código:</span> {{
                                                obra?.codigo }}
                                            </div>
                                        </div>

                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2">
                                                <span class="material-symbols-outlined">
                                                    conversion_path
                                                </span>
                                            </mat-icon>
                                            <div class="font-mono text-primary-500">
                                                <span class="font-bold">Versão:</span> {{ obra?.versao }}
                                            </div>
                                        </div>

                                    </div>
                                </ng-container>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
            </div>

        </ng-container>

        <!-- Edit mode -->
        <ng-container *ngIf="editMode || creating">
            <!-- Header -->
            <div class="relative w-full h-40 sm:h-48 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">

                <!-- Close button -->
                <div class="flex items-center justify-end w-full  mx-auto pt-6">
                    <button mat-icon-button [matTooltip]="'Close'" [routerLink]="['../']">
                        <mat-icon class="text-black" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>
                </div>
                <div>
                    <h2 class="text-4xl">{{title}}</h2>
                </div>
            </div>
            <div class="mt-6 w-full">
                <div class="w-full">
                    <form [formGroup]="obraForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data" novalidate>
                        <ng-container>
                            <div class="mt-6 w-full p-6" *ngIf="creating">
                                <h3 class="text-3xl">Obra {{tipoObraSelecionada}}</h3>
                            </div>
                            <div class="mt-6 w-full p-6" *ngIf="!creating">
                                <h3 class="text-3xl">Obra {{obra?.tipo.charAt(0).toUpperCase() +
                                    obra?.tipo.slice(1)}}</h3>
                            </div>
                            <div class="relative flex w-full">
                                <div class="flex flex-col px-8 py-6 pb-4 shadow-xl w-full">
                                    <div class="mt-4 flex flex-wrap">
                                        <ng-container>
                                            <div class="flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field appearance="outline" class="w-full">
                                                        <mat-label *ngIf="!isLoading">Selecione o Setor
                                                        </mat-label>
                                                        <mat-label *ngIf="isLoading">
                                                            <div class="select-placeholder-container justify-between">
                                                                <span>Loading...</span>
                                                                <mat-spinner class="spinner"
                                                                    diameter="20"></mat-spinner>
                                                            </div>
                                                        </mat-label>
                                                        <mat-select formControlName="tipo"
                                                            [disabled]="editMode"
                                                            (selectionChange)="selectedSetorObra($event)"
                                                            [compareWith]="compareSetores">
                                                            <mat-option *ngFor="let setor of setores" [value]="setor">
                                                                {{ setor.descricao }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field appearance="outline" class="w-full">
                                                        <mat-label *ngIf="!isLoading">Selecione o Empreendimento
                                                        </mat-label>
                                                        <mat-label *ngIf="isLoading">
                                                            <div class="select-placeholder-container justify-between">
                                                                <span>Loading...</span>
                                                                <mat-spinner class="spinner"
                                                                    diameter="20"></mat-spinner>
                                                            </div>
                                                        </mat-label>
                                                        <mat-select formControlName="empreendimento"
                                                            [compareWith]="compareEmpreend">
                                                            <mat-option *ngFor="let empre of empreendimentos"
                                                                [value]="empre">
                                                                {{ empre.nome }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field class=" w-full" appearance="outline">
                                                        <mat-label>Descrição</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex">
                                                            <span class="material-symbols-outlined">
                                                                description
                                                            </span>
                                                        </mat-icon>
                                                        <input matInput formControlName="descricao"
                                                            [placeholder]="'Descrição'">
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto">
                                                    <mat-form-field class=" w-full" appearance="outline">
                                                        <mat-label>Responsável</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex">
                                                            <span class="material-symbols-outlined">
                                                                location_away
                                                            </span>
                                                        </mat-icon>
                                                        <input matInput formControlName="responsavel"
                                                            [placeholder]="'Responsável'">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="mt-4 flex flex-wrap sm:space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field appearance="outline" class="w-full">
                                                        <mat-label *ngIf="!isLoading">Intervenção </mat-label>
                                                        <mat-label *ngIf="isLoading">
                                                            <div class="select-placeholder-container justify-between">
                                                                <span>Loading...</span>
                                                                <mat-spinner class="spinner"
                                                                    diameter="20"></mat-spinner>
                                                            </div>
                                                        </mat-label>
                                                        <mat-select formControlName="intervencao"
                                                            [compareWith]="compareEmpreend">
                                                            <mat-option *ngFor="let intervencao of intervecoes"
                                                                [value]="intervencao">
                                                                {{ intervencao.descricao }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field class=" w-full" appearance="outline">
                                                        <mat-label>Valor Global</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex">
                                                            <span class="material-symbols-outlined">
                                                                payments
                                                            </span>
                                                        </mat-icon>
                                                        <input matInput formControlName="valorGlobal" currencyMask
                                                            [placeholder]="'Valor Global'">
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto">
                                                    <mat-form-field class=" w-full" appearance="outline">
                                                        <mat-label>Percentual Financeiro Executado</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex">
                                                            <span class="material-symbols-outlined">
                                                                percent
                                                            </span>
                                                        </mat-icon>
                                                        <input matInput formControlName="percentualFinanceiroExecutado"
                                                            type="text" appPercentageMask
                                                            [placeholder]="'Percentual Financeiro Executado'">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field class="w-full" appearance="outline">
                                                        <mat-label>Instrumento</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex"
                                                            [svgIcon]="'heroicons_solid:location-marker'">
                                                            <span class="material-symbols-outlined">
                                                                engineering
                                                            </span>
                                                        </mat-icon>
                                                        <input matInput formControlName="instrumento"
                                                            [placeholder]="'Instrumento'">
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto">
                                                    <mat-form-field appearance="outline" class="w-full">
                                                        <mat-label *ngIf="!isLoading">Tipos de Infraestruturas
                                                        </mat-label>
                                                        <mat-label *ngIf="isLoading">
                                                            <div class="select-placeholder-container justify-between">
                                                                <span>Loading...</span>
                                                                <mat-spinner class="spinner"
                                                                    diameter="20"></mat-spinner>
                                                            </div>
                                                        </mat-label>
                                                        <mat-select formControlName="tipo_infraestrutura"
                                                            [compareWith]="compareEmpreend">
                                                            <mat-option *ngFor="let infra of infras" [value]="infra">
                                                                {{ infra.descricao }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>

                                            <div class="mt-4 flex flex-wrap w-full md:space-x-4 justify-between">
                                                <div class="flex-auto">
                                                    <mat-form-field class="w-full" appearance="outline">
                                                        <mat-label>Data Início</mat-label>
                                                        <input matInput formControlName="dataInicio"
                                                            [matDatepicker]="InicioDatepicker"
                                                            [placeholder]="'Data de Inicío'"
                                                            (dateChange)="addEvent('change', $event)" disabled />
                                                        <mat-datepicker-toggle matSuffix [for]="InicioDatepicker">
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker disabled="false" startView="year"
                                                            (monthSelected)="setDataInicio($event,InicioDatepicker)"
                                                            #InicioDatepicker></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto">
                                                    <mat-form-field class="w-full" appearance="outline">
                                                        <mat-label>Data Conclusão</mat-label>
                                                        <input matInput formControlName="dataConclusao"
                                                            [matDatepicker]="ConclusaoDatepicker"
                                                            [placeholder]="'Data de Conclusão'"
                                                            (dateChange)="addEvent('change', $event)" disabled />
                                                        <mat-datepicker-toggle matSuffix [for]="ConclusaoDatepicker">
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker disabled="false" startView="year"
                                                            (monthSelected)="setDataConclusao($event, ConclusaoDatepicker)"
                                                            #ConclusaoDatepicker></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto">
                                                    <mat-form-field class="w-full" appearance="outline">
                                                        <mat-label>Data Base Orçamento</mat-label>
                                                        <input matInput formControlName="data_base_orcamento"
                                                            [matDatepicker]="BaseDatepicker"
                                                            [placeholder]="'Data de Conclusão'"
                                                            (dateChange)="addEvent('change', $event)" disabled />
                                                        <mat-datepicker-toggle matSuffix [for]="BaseDatepicker">
                                                        </mat-datepicker-toggle>
                                                        <mat-datepicker disabled="false" startView="year"
                                                            (monthSelected)="setDataBaseOorcamento($event,BaseDatepicker)"
                                                            #BaseDatepicker></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                <div class="flex-auto">
                                                    <mat-form-field appearance="outline" class="w-full">
                                                        <mat-label *ngIf="!isLoading">Status</mat-label>
                                                        <mat-label *ngIf="isLoading">
                                                            <div class="select-placeholder-container justify-between">
                                                                <span>Loading...</span>
                                                                <mat-spinner class="spinner"
                                                                    diameter="20"></mat-spinner>
                                                            </div>
                                                        </mat-label>
                                                        <mat-select formControlName="status"
                                                            [compareWith]="compareEmpreend">
                                                            <mat-option *ngFor="let status of statues" [value]="status"
                                                                [id]="status.id">
                                                                {{ status.descricao }}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <!--Produtos-->
                                            <ng-container formArrayName="produtos"
                                                *ngFor="let produto of produtosControls; index as i;">
                                                <div class="flex justify-between items-center space-x-4 w-full">
                                                    <ng-container [formGroupName]="i">
                                                        <div class="flex-auto sm:w-full md:w-11/12">
                                                            <mat-form-field appearance="fill" class="w-full">
                                                                <mat-label *ngIf="!isLoading">Produtos</mat-label>
                                                                <mat-label *ngIf="isLoading">
                                                                    <div
                                                                        class="select-placeholder-container justify-between">
                                                                        <span>Loading...</span>
                                                                        <mat-spinner class="spinner"
                                                                            diameter="20"></mat-spinner>
                                                                    </div>
                                                                </mat-label>
                                                                <mat-select formControlName="descricao" matInput
                                                                    [compareWith]="compareProdutos">
                                                                    <mat-option *ngFor="let prod of produtos"
                                                                        [id]="prod.id" [value]="prod">
                                                                        {{ prod.descricao }}
                                                                    </mat-option>
                                                                </mat-select>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="flex-auto ">
                                                            <button mat-fab type="button" [color]="'warn'"
                                                                class="sm:flex icon-size-10"
                                                                (click)="removeProdutoField(i)" matTooltip="Remover">
                                                                <mat-icon [svgIcon]="'heroicons_solid:trash'">
                                                                </mat-icon>
                                                            </button>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </ng-container>
                                            <div class="group inline-flex items-center mt-2 -ml-4 py-2 px-4 rounded cursor-pointer"
                                                (click)="addProdutoField()">
                                                <mat-icon class="icon-size-5"
                                                    [svgIcon]="'heroicons_solid:plus-circle'"></mat-icon>
                                                <span
                                                    class="ml-2 font-medium text-secondary group-hover:underline">Adicionar
                                                    Outro
                                                    Produto</span>
                                            </div>
                                            <div class="mt-4 flex justify-between items-center space-x-4 w-full">
                                                <div class="flex-auto w-full">
                                                    <mat-form-field class="w-full" appearance="fill">
                                                        <mat-label>Documentos Adicionais</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                                            svgIcon="mat_solid:upload_file">
                                                        </mat-icon>
                                                        <p *ngIf="selectedFile">{{ selectedFile.name }}</p>
                                                        <div class="file-input">
                                                            <input type="file" matInput
                                                                (change)="docsAdicionais($event)" class="w-full"
                                                                formControlName="documentosAdicionais"
                                                                placeholder="'Selecione o Arquivo para Upload'"
                                                                accept=".pdf, .doc, .docx, .txt">
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto w-full">
                                                    <mat-form-field class="w-full" appearance="fill">
                                                        <mat-label>Arquivo Georreferenciado</mat-label>
                                                        <mat-icon matPrefix class="hidden sm:flex icon-size-5"
                                                            svgIcon="mat_solid:upload_file">
                                                        </mat-icon>
                                                        <p *ngIf="arquivoGeo">{{ arquivoGeo.name }}</p>
                                                        <div class="file-input">
                                                            <input type="file" class="file-input" matInput
                                                                name="fileInput" (change)="geoDocs($event)"
                                                                accept=".pdf, .doc, .docx, .txt"
                                                                formControlName="arquivoGeorreferenciado"
                                                                class="w-full" />
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                                <div class="flex-auto ">
                                                    <button mat-fab color="primary"
                                                        matTooltip="Fazer Upload do Arquivo Selecionado"
                                                        class="sm:flex icon-size-10" type="button"
                                                        (click)="uploadFilesSelected()">
                                                        <mat-icon svgIcon="mat_solid:upload_file"></mat-icon>
                                                    </button>
                                                </div>
                                            </div>

                                            <!--Endereço-->
                                            <div class="mt-4 w-full">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Endereço</h3>
                                                </div>
                                                <ng-container>
                                                    <div class="flex flex-wrap space-x-4 w-full">
                                                        <div class="flex-auto">
                                                            <mat-form-field appearance="outline" class="w-full">
                                                                <mat-label *ngIf="!isLoading">Estado </mat-label>
                                                                <mat-label *ngIf="isLoading">
                                                                    <div
                                                                        class="select-placeholder-container justify-between">
                                                                        <span>Loading...</span>
                                                                        <mat-spinner class="spinner"
                                                                            diameter="20"></mat-spinner>
                                                                    </div>
                                                                </mat-label>
                                                                <mat-select formControlName="uf"
                                                                    (selectionChange)="selectedEstaoObra($event)"
                                                                    [compareWith]="compareEmpreend">
                                                                    <mat-option *ngFor="let estado of estados"
                                                                        [value]="estado">
                                                                        {{ estado.sigla }}
                                                                    </mat-option>
                                                                </mat-select>
                                                            </mat-form-field>
                                                        </div>

                                                    </div>
                                                    <ng-container formArrayName="municipios"
                                                        *ngFor="let municipio of municipiosControls; index as i;">
                                                        <div class="flex justify-between items-center space-x-4 w-full">
                                                            <ng-container [formGroupName]="i">
                                                                <div class="flex-auto sm:w-full md:w-11/12">
                                                                    <mat-form-field appearance="fill" class="w-full">
                                                                        <mat-label
                                                                            *ngIf="!isLoadingMunicipio">Municípios</mat-label>
                                                                        <mat-label *ngIf="isLoadingMunicipio">
                                                                            <div
                                                                                class="select-placeholder-container justify-between">
                                                                                <span>Loading...</span>
                                                                                <mat-spinner class="spinner"
                                                                                    diameter="20"></mat-spinner>
                                                                            </div>
                                                                        </mat-label>
                                                                        <mat-select formControlName="nome"
                                                                            [compareWith]="compareMunicipios">
                                                                            <mat-option
                                                                                *ngFor="let municipio of municpios"
                                                                                [value]="municipio">
                                                                                {{ municipio.nome }}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="flex-auto ">
                                                                    <button mat-fab type="button" [color]="'warn'"
                                                                        class="sm:flex icon-size-10"
                                                                        (click)="removeMunicipioField(i)"
                                                                        matTooltip="Remover">
                                                                        <mat-icon [svgIcon]="'heroicons_solid:trash'">
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </ng-container>
                                                        </div>
                                                    </ng-container>
                                                    <div class="group inline-flex items-center mt-2 -ml-4 py-2 px-4 rounded cursor-pointer"
                                                        (click)="addMunicipioField()">
                                                        <mat-icon class="icon-size-5"
                                                            [svgIcon]="'heroicons_solid:plus-circle'"></mat-icon>
                                                        <span
                                                            class="ml-2 font-medium text-secondary group-hover:underline">Adicionar
                                                            Outro Município</span>
                                                    </div>
                                                    <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                        <div class="flex-auto">
                                                            <mat-form-field class=" w-full" appearance="outline">
                                                                <mat-label>Latitude</mat-label>
                                                                <mat-icon matPrefix class="hidden sm:flex">
                                                                    <span class="material-symbols-outlined">
                                                                        pin_drop
                                                                    </span>
                                                                </mat-icon>
                                                                <input matInput formControlName="latitude"
                                                                    [placeholder]="'Latitude'">
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="flex-auto">
                                                            <mat-form-field class=" w-full" appearance="outline">
                                                                <mat-label>Longitude</mat-label>
                                                                <mat-icon matPrefix class="hidden sm:flex">
                                                                    <span class="material-symbols-outlined">
                                                                        pin_drop
                                                                    </span>
                                                                </mat-icon>
                                                                <input matInput formControlName="longitude"
                                                                    [placeholder]="'Longitude'">
                                                            </mat-form-field>
                                                        </div>
                                                    </div>

                                                </ng-container>
                                            </div>
                                            <!-- Início Tipo Aeroporto -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Aeroportuário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Aeroportuária </h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Código IATA</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    frame_source
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="codigoIATA"
                                                                [placeholder]="'Código IATA'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Tipo de Avião que será recebido com base
                                                                no
                                                                Cadastro de ICAO</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    travel
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="tipoAviaoRecICAO"
                                                                [placeholder]="'Tipo de Avião que será recebido com base no Cadastro de ICAO'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Extensão</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    extension
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="extensao" type="number"
                                                                [placeholder]="'Nova Extensão'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Nova Largura</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    straighten
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaLargura" type="number"
                                                                [placeholder]="'Nova Largura'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Nova Área Criada</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    square_foot
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaAreaCriada"
                                                                type="number" [placeholder]="'Nova Área Criada'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Aeroporto-->

                                            <!-- Início Tipo Rodoviária -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Rodoviário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Rodoviária </h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Rodovia</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    route
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="rodovia"
                                                                [placeholder]="'Rodovia'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>KM Inicial</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    directions
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="kmInicial" type="number"
                                                                [placeholder]="'KM Inicial'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>KM Final</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    signpost
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="kmFinal" type="number"
                                                                [placeholder]="'KM Final'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Extensão KM</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    add_road
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="extensao" type="number"
                                                                [placeholder]="'Extensão'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Código PNV/SRE</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    trip_origin
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="codigo" type="text"
                                                                [placeholder]="'Código'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Versão PNV/SRE</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    format_text_overflow
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="versao" type="text"
                                                                [placeholder]="'Versão'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Rodoviária-->

                                            <!-- Início Tipo Portuária -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Portuário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Portuária</h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Tipo Embarcação</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    directions_boat
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="tipoEmbarcacao"
                                                                [placeholder]="'Tipo Embarcação'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label *ngIf="!isLoading">Haverá Ampliação na Capacidade
                                                                de
                                                                Passageiros, de Carga
                                                                ou
                                                                Ambos?
                                                            </mat-label>
                                                            <mat-label *ngIf="isLoading">
                                                                <div
                                                                    class="select-placeholder-container justify-between">
                                                                    <span>Loading...</span>
                                                                    <mat-spinner class="spinner"
                                                                        diameter="20"></mat-spinner>
                                                                </div>
                                                            </mat-label>

                                                            <mat-select formControlName="ampliacaoCapacidade"
                                                                [(ngModel)]="selectedSetor">
                                                                <mat-option *ngFor="let simnao of simnaos"
                                                                    [value]="simnao">
                                                                    {{ simnao.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Calado a ser Atendido pelo
                                                                Porto</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    settings_panorama
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novoCalado" type="number"
                                                                [placeholder]="'Nova Calado a Ser Atendido'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Largura Máxima permitida para operação
                                                                (em
                                                                Metros)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    straighten
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaLargura" type="number"
                                                                [placeholder]="'Nova Largura'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Novo Comprimento Permitido na plataforma (em
                                                                Metros)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    linear_scale
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novoComprimento"
                                                                type="number" [placeholder]="'Novo Comprimento'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Capacidade Dinâmica</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    hallway
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="capacidadeDinamica"
                                                                type="number" [placeholder]="'Capacidade Dinâmica'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Portuária-->

                                            <!-- Início Tipo Hidroviária -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Hidroviário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Hidroviária</h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Situação da Hidrovia</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    sailing
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="situacaoHidrovia"
                                                                [placeholder]="'Situação da Hidrovia'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label *ngIf="!isLoading">Possui Barragem
                                                            </mat-label>
                                                            <mat-label *ngIf="isLoading">
                                                                <div
                                                                    class="select-placeholder-container justify-between">
                                                                    <span>Loading...</span>
                                                                    <mat-spinner class="spinner"
                                                                        diameter="20"></mat-spinner>
                                                                </div>
                                                            </mat-label>

                                                            <mat-select formControlName="temBarragem">
                                                                <mat-option *ngFor="let simnao of simnaos"
                                                                    [value]="simnao">
                                                                    {{ simnao.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>

                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label *ngIf="!isLoading">Possui Eclusa
                                                            </mat-label>
                                                            <mat-label *ngIf="isLoading">
                                                                <div
                                                                    class="select-placeholder-container justify-between">
                                                                    <span>Loading...</span>
                                                                    <mat-spinner class="spinner"
                                                                        diameter="20"></mat-spinner>
                                                                </div>
                                                            </mat-label>

                                                            <mat-select formControlName="temEclusa">
                                                                <mat-option *ngFor="let simnao of simnaos"
                                                                    [value]="simnao">
                                                                    {{ simnao.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Tipo de Embarção que Poderá Utilizar a Nova
                                                                Infraestrutura
                                                            </mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    directions_boat
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="tipoEmbarcacao" type="text"
                                                                [placeholder]="'Tipo de Embarção que Poderá Utilizar a Nova Infraestrutura'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label *ngIf="!isLoading">Haverá Ampliação na Capacidade
                                                                de
                                                                Passageiros, de Carga
                                                                ou
                                                                Ambos?
                                                            </mat-label>
                                                            <mat-label *ngIf="isLoading">
                                                                <div
                                                                    class="select-placeholder-container justify-between">
                                                                    <span>Loading...</span>
                                                                    <mat-spinner class="spinner"
                                                                        diameter="20"></mat-spinner>
                                                                </div>
                                                            </mat-label>

                                                            <mat-select formControlName="ampliacaoCapacidade">
                                                                <mat-option *ngFor="let simnao of simnaos"
                                                                    [value]="simnao">
                                                                    {{ simnao.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Profundiade Mínima</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    flex_direction
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="profundidadeMinima"
                                                                type="number" [placeholder]="'Profundiade Mínima'">
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Profundidade Máxima</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    footprint
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="profundidadeMaxima"
                                                                type="number" [placeholder]="'Profundidade Máxima'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Comboios de Cheia</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                diversity_3
                                                            </mat-icon>
                                                            <input matInput formControlName="comboiosCheia" type="text"
                                                                [placeholder]="'Comboios de Cheia'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Comboios de Estiagem</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    reduce_capacity
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="comboiosEstiagem"
                                                                type="text" [placeholder]="'Comboios de Estiagem'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Largura</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    straighten
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaLargura" type="number"
                                                                [placeholder]="'Nova Largura'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Novo Comprimento</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    linear_scale
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novoComprimento"
                                                                type="number" [placeholder]="'Novo Comprimento'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Hidroviária-->

                                            <!-- Início Tipo Ferroviária -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Ferroviário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Ferroviária</h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>KM Inicial</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    directions
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="kmInicial" type="number"
                                                                [placeholder]="'KM Final'">
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>KM Final</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    signpost
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="kmFinal" type="number"
                                                                [placeholder]="'KM Final'">
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Extensão</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    add_road
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="extensao" type="number"
                                                                [placeholder]="'Extensão'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label *ngIf="!isLoading">Nova Bitola</mat-label>
                                                            <mat-label *ngIf="isLoading">
                                                                <div
                                                                    class="select-placeholder-container justify-between">
                                                                    <span>Loading...</span>
                                                                    <mat-spinner class="spinner"
                                                                        diameter="20"></mat-spinner>
                                                                </div>
                                                            </mat-label>

                                                            <mat-select formControlName="bitola"
                                                                [compareWith]="compareEmpreend">
                                                                <mat-option *ngFor="let bitola of bitolas"
                                                                    [value]="bitola">
                                                                    {{ bitola.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Capacidade Dinâmica</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    360
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="capacidadeDinamica"
                                                                type="number" [placeholder]="'Capacidade Dinâmica'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Velocidade</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    directions_alt
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaVelocidade"
                                                                type="number" [placeholder]="'Nova Velocidade'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Ferroviária-->

                                            <!-- Início Tipo Dutoviária -->
                                            <ng-container *ngIf="tipoObraSelecionada ==='Dutoviário'">
                                                <div class="w-full pb-6">
                                                    <h3 class="text-3xl">Tipo Obra: Dutoviária</h3>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label>Tipo do Duto </mat-label>
                                                            <mat-select formControlName="tipo_duto"
                                                                [compareWith]="compareEmpreend">
                                                                <mat-option *ngFor="let duto of tipoDutos"
                                                                    [value]="duto">
                                                                    {{ duto.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label>Função da Estrutura</mat-label>
                                                            <mat-select formControlName="funcao_estrutura"
                                                                [compareWith]="compareEmpreend">
                                                                <mat-option *ngFor="let estrutura of funcaoEstruturas"
                                                                    [value]="estrutura">
                                                                    {{ estrutura.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Material Transportado</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    emoji_transportation
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="materialTransportado"
                                                                [placeholder]="'Material Transportado'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field appearance="outline" class="w-full">
                                                            <mat-label>Nível Dutos</mat-label>
                                                            <mat-select formControlName="nivel_duto"
                                                                [compareWith]="compareEmpreend">
                                                                <mat-option *ngFor="let nivel of nivelDutos"
                                                                    [value]="nivel">
                                                                    {{ nivel.descricao }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Código da Origem</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    trip_origin
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="codigoOrigem" type="text"
                                                                [placeholder]="'Código da Origem'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap space-x-4 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Código de Destino</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    pin_drop
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="codigoDestino" type="text"
                                                                [placeholder]="'Código de Destino'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nome do XRL</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    signature
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="nomeXRL" type="text"
                                                                [placeholder]="'Nome do XRL'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Nova Extensão (m)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    add_road
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="extensao" type="number"
                                                                [placeholder]="'Nova Extensão'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="mt-4 flex flex-wrap gap-2 w-full">
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Espessura (m)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    bia
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="espessura" type="number"
                                                                [placeholder]="'Espessura'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Vazão de Projeto (m³/dia)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    format_text_overflow
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="vazaoProjeto" type="number"
                                                                [placeholder]="'Vazão de Projeto'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class=" w-full" appearance="outline">
                                                            <mat-label>Vazão Operacional (m³/dia)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    rebase_edit
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="vazaoOperacional"
                                                                type="number" [placeholder]="'Vazão Operacional'">
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex-auto">
                                                        <mat-form-field class="w-full" appearance="outline">
                                                            <mat-label>Nova Área Impactada (Ha)</mat-label>
                                                            <mat-icon matPrefix class="hidden sm:flex">
                                                                <span class="material-symbols-outlined">
                                                                    sword_rose
                                                                </span>
                                                            </mat-icon>
                                                            <input matInput formControlName="novaAreaImpactada"
                                                                type="number" [placeholder]="'Nova Área Impactada'">
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <!--Fim Tipo Dutoviária-->

                                        </ng-container>
                                    </div>
                                    <hr class="border-b mt-4 mb-1">
                                </div>
                            </div>
                        </ng-container>
                        <!-- Divider -->
                        <div class="mt-11 mb-10 border-t"></div>

                        <!-- Actions -->
                        <div class="flex items-center justify-end m-3">

                            <!-- Inativar -->
                            <!-- <mat-slide-toggle *ngIf="editMode" class="mt-2" [color]="'warn'" [checked]="!obra.status"
                                (change)="desativaObra($event)" [matTooltip]="'Inativar'">Inativar
                            </mat-slide-toggle> -->
                            <!-- Cancel -->
                            <button class="ml-auto" *ngIf="!editMode" type="button" mat-button [matTooltip]="'Cancelar'"
                                (click)="ClearForm()">
                                Limpar
                            </button>

                            <button class="ml-auto" *ngIf="editMode" type="button" mat-button [matTooltip]="'Cancelar'"
                            (click)="cancelEdit()">
                                Cancelar
                            </button>

                            <!-- Save -->
                            <button *ngIf="!editMode" class="ml-2" mat-flat-button [color]="'primary'" type="submit"
                                [matTooltip]="'Salvar'">
                                Salvar
                            </button>

                            <!-- Update -->
                            <button *ngIf="editMode" class="ml-2" mat-flat-button type="button" [color]="'primary'"
                                [matTooltip]="'Atualizar'"
                                (click)="updateObra()">
                                Atualizar
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </ng-container>

    </ng-container>

    <!-- No Items -->
    <ng-template #noItems>
        <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center loader">Carregando
            Obra
            <span class="dot dot-1"></span>
            <span class="dot dot-2"></span>
            <span class="dot dot-3"></span>
            <span class="dot dot-4"></span>
        </div>
    </ng-template>
</div>