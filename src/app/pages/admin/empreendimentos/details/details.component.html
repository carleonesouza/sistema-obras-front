<div class="flex flex-col w-full">

    <ng-container *ngIf="!loading; else noItems">
        <!-- View mode -->
        <ng-container *ngIf="!editMode && !creating">

            <!-- Header -->
            <div class="relative w-full h-40 sm:h-48 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
                <!-- Background -->
                <ng-container>
                    <img class="absolute inset-0 object-cover w-full h-full">
                </ng-container>
                <!-- Close button -->
                <div class="flex items-center justify-end w-full max-w-3xl mx-auto pt-6">
                    <button mat-icon-button (click)="closeDrawer()" [matTooltip]="'Fechar'" [routerLink]="['../']">
                        <mat-icon class="text-black" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>
                </div>
            </div>

            <!-- Empreendimento -->
            <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0" *ngIf="empreendimento">
                <div class="w-full max-w-3xl">

                    <!-- Avatar and actions -->
                    <div class="flex flex-auto items-end -mt-16">
                        <!-- Avatar -->
                        <div
                            class="flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">

                            <div
                                class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200">
                                {{empreendimento?.nome.charAt(0)}}
                            </div>
                        </div>
                        <!-- Actions -->
                        <div class="flex items-center ml-auto mb-1">
                            <button mat-raised-button [color]="'primary'" [matTooltip]="'Editar'"
                                (click)="toggleEditMode(true)">
                                <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:pencil-alt'"></mat-icon>
                                <span class="ml-2">Editar</span>
                            </button>
                        </div>
                    </div>
                    <!-- Name -->
                    <div class="mt-3 text-4xl font-bold truncate">{{empreendimento.nome}}</div>
                    <div class="mt-6">
                        <mat-chip-list aria-label="Fish selection">
                            <mat-chip *ngIf="empreendimento?.status === '1'" class="ind-active">Ativo</mat-chip>
                            <mat-chip *ngIf="empreendimento?.status === '0'" class="ind-deactived">Encerrado</mat-chip>
                        </mat-chip-list>
                    </div>

                    <div class="mt-6 w-full">
                        <h3 class="text-3xl">Detalhes</h3>
                    </div>

                    <div class="flex flex-col mt-4 pt-3 space-y-2">

                        <ng-container>
                            <div class="flex">
                                <div class="min-w-0 space-y-1 w-full">
                                    <ng-container>
                                        <div
                                            class="flex items-center justify-between leading-6 w-full p-3 border-4 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <div class="flex">
                                                <mat-icon class="mr-2"
                                                    [svgIcon]="'heroicons_outline:document-text'"></mat-icon>
                                                <div class="font-mono text-primary-500">
                                                    Responsável: {{empreendimento.responsavel}}
                                                </div>
                                            </div>
                                            <div class="flex">
                                                <button mat-icon-button aria-label="button Informações"
                                                    matTooltipPosition="above" matTooltip="
                                                O responsável é o órgão ou departamento incumbido do acompanhamento e/ou execução daquele 
                                                empreendimento. Deve ser relacionado à gestão daquele empreendimento, seja 
                                                subcontratando seus executores ou acompanhando seu andamento.">
                                                    <mat-icon>
                                                        <span class="material-symbols-outlined">
                                                            info
                                                        </span>
                                                    </mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </ng-container>

                        <ng-container>
                            <div class="flex">
                                <div class="min-w-0 space-y-1 w-full">
                                    <ng-container>
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-4 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2"
                                                [svgIcon]="'heroicons_outline:calculator'"></mat-icon>
                                            <div class="font-mono text-primary-500">Setor:
                                                {{empreendimento?.setor?.setor?.descricao}}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </ng-container>

                        <ng-container>
                            <div class="flex">
                                <div class="min-w-0 space-y-1 w-full">
                                    <ng-container>
                                        <div
                                            class="flex items-center leading-6 w-full p-3 border-4 border-light-blue-500 border-opacity-75 rounded-lg">
                                            <mat-icon class="mr-2"
                                                [svgIcon]="'heroicons_outline:calculator'"></mat-icon>
                                            <div class="font-mono text-primary-500">Natureza Empreendimento:
                                                {{empreendimento?.natureza_empreendimento?.natureza_empreendimento?.descricao}}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </ng-container>

                    </div>
                    <ng-container *ngIf="obrasEmpreendimento">

                        <div class="flex flex-col mt-4 pt-3 space-y-2">
                            <ng-container *ngFor="let obra of obrasEmpreendimento; index as i">

                                <mat-accordion>

                                    <mat-expansion-panel (opened)="panelOpenState = true"
                                        (closed)="panelOpenState = false">
                                        <mat-expansion-panel-header>
                                            <mat-panel-title>
                                                <div class="sm:hidden md:block">
                                                    Obra {{obra?.tipo.charAt(0).toUpperCase() + obra?.tipo.slice(1)+ '
                                                    '+
                                                    (i+1)}}
                                                </div>
                                            </mat-panel-title>
                                            <mat-panel-description>
                                                Descrição: {{obra?.descricao }}
                                            </mat-panel-description>
                                        </mat-expansion-panel-header>

                                        <!--Informações Comuns-->
                                        <ng-container>
                                            <div class="flex flex-col">
                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:date_range'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Responsável Obra : </span>{{
                                                                    obra?.responsavel
                                                                    }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above"
                                                                    matTooltip="
                                                O responsável é o órgão ou departamento incumbido do acompanhamento e/ou execução daquela obra. 
                                                Deve ser relacionado à gestão, seja subcontratando seus executores ou acompanhando seu andamento.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2" matTooltipPosition="above"
                                                                matTooltip="Mês e ano previstos/reais para término da execução da obra.">
                                                                <span class="material-symbols-outlined">
                                                                    info
                                                                </span>
                                                            </mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Data Conclusão:
                                                                </span>{{obra?.dataConclusao | date:
                                                                'dd/yyyy'}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2" matTooltipPosition="above"
                                                                matTooltip="Mês e ano previstos/reais para início da execução da obra.">
                                                                <span class="material-symbols-outlined">
                                                                    info
                                                                </span>
                                                            </mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Data Início:
                                                                </span>{{obra?.dataInicio | date:
                                                                'dd/yyyy'}}
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2" matTooltipPosition="above"
                                                                matTooltip="Mês e ano em que orçamento da obra foi realizado.">
                                                                <span class="material-symbols-outlined">
                                                                    info
                                                                </span>
                                                            </mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Data Base do Orçamento:
                                                                </span>{{obra?.data_base_orcamento | date: 'dd/yyyy'}}
                                                            </div>
                                                        </div>

                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:map'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Latitude:
                                                                    </span>{{obra?.latitude }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above" matTooltip="
                                                Inserir apenas no caso de ser uma obra pontual e se o arquivo georreferenciado não estiver sido 
                                                cadastrado no formulário (Ex.: OAE, Terminal etc.), 
                                                não sendo necessário no caso de intervenções nas vias.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:map'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Longitude:
                                                                    </span>{{obra?.longitude }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above" matTooltip="
                                                Inserir apenas no caso de ser uma obra pontual e se o arquivo georreferenciado não estiver sido 
                                                cadastrado no formulário (Ex.: OAE, Terminal etc.), 
                                                não sendo necessário no caso de intervenções nas vias">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2"
                                                                [svgIcon]="'mat_solid:my_location'"></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Estado:
                                                                </span>{{obra?.uf.uf.descricao }}
                                                            </div>
                                                        </div>

                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2"
                                                        *ngFor="let municipio of obra?.municipios; let i = index;">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2" matTooltipPosition="above"
                                                                matTooltip="Lista de Municípios que serão impactados pela obra.">
                                                                <span class="material-symbols-outlined">
                                                                    info
                                                                </span>
                                                            </mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Município: </span>{{
                                                                municipio.nome}}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">

                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:folder'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Documentos Adicionais:
                                                                    </span>{{obra?.documentosAdicionais }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above"
                                                                    matTooltip="Estudos, projetos, planilhas ou qualquer documento que contenha mais informações sobre a obra.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:folder'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Arquivo Georreferenciado:
                                                                    </span>
                                                                    {{obra?.arquivoGeorreferenciado }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above" matTooltip="Arquivo contendo informações para que seja possível localizar a obra. 
                                                Esse arquivo deve ser, preferencialmente, em algum formato compatível com GIS (Shapefiles, GeoDataBase, GeoPackage, KMZ, KML, GeoJson, GeoPDF ou similares). 
                                                Se não estiver disponível, anexar arquivos com imagem ou PDF.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">

                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:attach_money'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Valor Global:</span>
                                                                    {{obra?.valorGlobal |
                                                                    currency:'BRL' }}
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above"
                                                                    matTooltip="Valor total previsto/real a ser dispendido na execução da obra.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <div class="flex">
                                                                <mat-icon class="mr-2">percent</mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Percentual Financeiro
                                                                        Executado:</span>
                                                                    {{obra?.percentualFinanceiroExecutado }}%
                                                                </div>
                                                            </div>
                                                            <div class="flex">
                                                                <button mat-icon-button aria-label="button Informações"
                                                                    matTooltipPosition="above"
                                                                    matTooltip="Quanto em termos percentuais já foi executado do Valor Global indicado.">
                                                                    <mat-icon>
                                                                        <span class="material-symbols-outlined">
                                                                            info
                                                                        </span>
                                                                    </mat-icon>
                                                                </button>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2"
                                                                [svgIcon]="'mat_solid:add_road'"></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Nova Extensão:</span> {{
                                                                obra?.extensao }} (em
                                                                metros)
                                                            </div>
                                                        </div>

                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2"
                                                                [svgIcon]="'mat_solid:fact_check'"></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold">Status:</span> {{
                                                                obra?.status.status?.descricao }}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <ng-container *ngFor="let produto of obra?.produtos; let i = index;">
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2" matTooltipPosition="above"
                                                                matTooltip="
                                        Lista de todos os produtos previstos para serem transportados pelo modo de transporte que fará uso da infraestrutura que receberá a obra cadastrada. 
                                        Os produtos “Automóveis” e “Ônibus” dizem respeito ao transporte de pessoas em carros particulares ou veículos de transporte coletivo. 
                                        Todos os outros são oriundos da lista de produtos considerados na elaboração do Plano Nacional de Logística.">
                                                                <span class="material-symbols-outlined">
                                                                    info
                                                                </span></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold"> Produto:</span> {{
                                                                produto.descricao }}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <ng-container>
                                                    <div class="flex justify-between gap-3 pb-2">
                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2"
                                                                [svgIcon]="'mat_solid:construction'"></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold"> Tipo Infraestrutura: </span>{{
                                                                obra?.tipo_infraestrutura?.tipo_infraestrutura?.descricao
                                                                }}
                                                            </div>
                                                        </div>

                                                        <div
                                                            class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                            <mat-icon class="mr-2"
                                                                [svgIcon]="'mat_solid:room_preferences'"></mat-icon>
                                                            <div class="font-mono text-primary-500">
                                                                <span class="font-bold"> Intervenção:</span> {{
                                                                obra?.intervencao?.intervencao?.descricao }}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-container>

                                                <!--Obra Áerea-->
                                                <ng-container *ngIf="obra?.tipo ==='Aeroportuário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:code'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold"> Código IATA:</span> {{
                                                                    obra?.codigoIATA }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:flight'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Tipo de Avião que será
                                                                        Recebido com base no
                                                                        Cadastro da
                                                                        ICAO:</span> {{ obra?.tipoAviaoRecICAO }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:grass'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nova Área Criada:</span> {{
                                                                    obra?.novaAreaCriada
                                                                    }} (em metros²)
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:straighten'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nova Largura:</span> {{
                                                                    obra?.novaLargura }} (em
                                                                    metros)
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>
                                                </ng-container>

                                                <!--Obra Dutovária-->
                                                <ng-container *ngIf="obra?.tipo ==='Dutoviário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        valve
                                                                    </span></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Tipo de Duto:</span> {{
                                                                    obra?.tipo_duto?.tipo_duto?.descricao
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:home_work'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Função da Estrutura:</span>
                                                                    {{
                                                                    obra?.funcao_estrutura?.funcao_estrutura?.descricao
                                                                    }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        tools_level
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nível do Duto:</span> {{
                                                                    obra?.nivel_duto?.nivel_duto?.descricao }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:emoji_transportation'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Material
                                                                        Transportado:</span> {{
                                                                    obra?.materialTransportado }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:trip_origin'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Código de Origem: </span>{{
                                                                    obra?.codigoOrigem
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:pin_drop'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Código de Destino:</span> {{
                                                                    obra?.codigoDestino
                                                                    }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        signature
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nome XRL:</span> {{
                                                                    obra?.nomeXRL }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        bia
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Espessura:</span> {{
                                                                    obra?.espessura }} (em
                                                                    metros)
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        format_text_overflow
                                                                    </span></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Vazão do Projeto:</span> {{
                                                                    obra?.vazaoProjeto
                                                                    }}
                                                                    (m³/dia)
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        rebase_edit
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Vazão Operacional:</span> {{
                                                                    obra?.vazaoOperacional
                                                                    }}
                                                                    (m³/dia)
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        sword_rose
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nova Área Impactada:</span>
                                                                    {{
                                                                    obra?.novaAreaImpactada
                                                                    }}
                                                                    (Hac.)
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                </ng-container>

                                                <!--Obra Hidroviária-->
                                                <ng-container *ngIf="obra?.tipo ==='Hidroviário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:sailing'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Situação da Hidrovia:</span>
                                                                    {{
                                                                    obra?.situacaoHidrovia?.descricao
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"><span
                                                                        class="material-symbols-outlined">
                                                                        gate
                                                                    </span></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">A Hidrovia tem Eclusa:
                                                                    </span>
                                                                    {{ obra?.temEclusa?.descricao }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:border_all'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">A Hidrovia tem
                                                                        Barragem:</span> {{
                                                                    obra?.temBarragem?.descricao }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:directions_boat'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Tipo de Embarcação:
                                                                    </span>{{
                                                                    obra?.tipoEmbarcacao }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:houseboat'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Haverá Ampliação na
                                                                        Capacidade de
                                                                        Passageiros,
                                                                        de Carga
                                                                        ou
                                                                        Ambos: </span>{{
                                                                    obra?.ampliacaoCapacidade?.descricao }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        flex_direction
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Profundida Mínima: </span>{{
                                                                    obra?.profundidadeMinima }} (em metros)
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        footprint
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Profundida Máxima:</span> {{
                                                                    obra?.profundidadeMaxima }} (em metros)
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">diversity_3</mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Comboios de Cheia:</span> {{
                                                                    obra?.comboiosCheia
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:reduce_capacity'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Comboios de Estiagem:</span>
                                                                    {{
                                                                    obra?.comboiosEstiagem }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>
                                                </ng-container>

                                                <!--Obra Ferroviária-->
                                                <ng-container *ngIf="obra?.tipo ==='Ferroviário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:directions'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">KM Inicial:</span> {{
                                                                    obra?.kmInicial
                                                                    }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        signpost
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">KM Final:</span> {{
                                                                    obra?.kmFinal }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        package_2
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Nova Bitola:</span> {{
                                                                    obra?.bitola?.bitola.descricao }}
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <div class="flex">
                                                                    <mat-icon class="mr-2">
                                                                        <span class="material-symbols-outlined">
                                                                            directions_alt
                                                                        </span>
                                                                    </mat-icon>
                                                                    <div class="font-mono text-primary-500">
                                                                        <span class="font-bold">Nova Velocidade:</span>
                                                                        {{
                                                                        obra?.novaVelocidade
                                                                        }} (KM/h)
                                                                    </div>
                                                                </div>
                                                                <div class="flex">
                                                                    <button mat-icon-button
                                                                        aria-label="button Informações"
                                                                        matTooltipPosition="above"
                                                                        matTooltip="Velocidade Operacional da via em Km/h após a conclusão das obras.">
                                                                        <mat-icon>
                                                                            <span class="material-symbols-outlined">
                                                                                info
                                                                            </span>
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <div class="flex">
                                                                    <mat-icon class="mr-2"
                                                                        [svgIcon]="'mat_solid:360'"></mat-icon>
                                                                    <div class="font-mono text-primary-500">
                                                                        <span class="font-bold">Capacidade
                                                                            Dinâmica:</span> {{
                                                                        obra?.capacidadeDinamica }} (T/ano)
                                                                    </div>
                                                                </div>
                                                                <div class="flex">
                                                                    <button mat-icon-button
                                                                        aria-label="button Informações"
                                                                        matTooltipPosition="above"
                                                                        matTooltip="
                                                    Capacidade de movimentação da infraestrutura ferroviária em toneladas/ano após a conclusão das obras.">
                                                                        <mat-icon>
                                                                            <span class="material-symbols-outlined">
                                                                                info
                                                                            </span>
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>


                                                </ng-container>

                                                <!--Obra Portuária-->
                                                <ng-container *ngIf="obra?.tipo ==='Portuário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:directions_boat'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Tipo Embarcação:</span> {{
                                                                    obra?.tipoEmbarcacao
                                                                    }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        360
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Haverá Ampliação na
                                                                        Capacidade de
                                                                        Passageiros,
                                                                        de Carga
                                                                        ou
                                                                        Ambos:</span> {{
                                                                    obra?.ampliacaoCapacidade?.descricao
                                                                    }} (T/ano)
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        settings_panorama
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Novo Calado:</span> {{
                                                                    obra?.novoCalado }} (em metros)
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <div class="flex">
                                                                    <mat-icon class="mr-2">
                                                                        <span class="material-symbols-outlined">
                                                                            360
                                                                        </span>
                                                                    </mat-icon>
                                                                    <div class="font-mono text-primary-500">
                                                                        <span class="font-bold">Capacidade
                                                                            Dinâmica:</span> {{
                                                                        obra?.capacidadeDinamica }} (T/ano)
                                                                    </div>
                                                                </div>
                                                                <div class="flex">
                                                                    <button mat-icon-button
                                                                        aria-label="button Informações"
                                                                        matTooltipPosition="above"
                                                                        matTooltip="Capacidade de movimentação da infraestrutura portuária em toneladas/ano após a conclusão das obras..">
                                                                        <mat-icon>
                                                                            <span class="material-symbols-outlined">
                                                                                info
                                                                            </span>
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </ng-container>

                                                </ng-container>

                                                <!--Obra Rodoviária-->
                                                <ng-container *ngIf="obra?.tipo ==='Rodoviário'">
                                                    <ng-container>
                                                        <div class="flex justify-between gap-3 pb-2">
                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <div class="flex">
                                                                    <mat-icon class="mr-2"
                                                                        [svgIcon]="'mat_solid:trip_origin'"></mat-icon>
                                                                    <div class="font-mono text-primary-500">
                                                                        <span class="font-bold">Rodivia:</span> {{
                                                                        obra?.rodovia }}
                                                                    </div>
                                                                </div>
                                                                <div class="flex">
                                                                    <button mat-icon-button
                                                                        aria-label="button Informações"
                                                                        matTooltipPosition="above"
                                                                        matTooltip="
                                                Nome da rodovia onde a obra será realizada. Caso seja uma rodovia federal, utilizar o s
                                                eguinte padrão: “BR-” + número da rodovia + “/” + sigla da UF (Ex.: BR-381/MG). 
                                                No caso de uma rodovia estadual utilizar o seguinte padrão: sigla da rodovia + número da rodovia (Ex.: MG-050, MGT-750).">
                                                                        <mat-icon>
                                                                            <span class="material-symbols-outlined">
                                                                                info
                                                                            </span>
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2"
                                                                    [svgIcon]="'mat_solid:directions'"></mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">KM Inicial:</span> {{
                                                                    obra?.kmInicial
                                                                    }}
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        signpost
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">KM Final:</span> {{
                                                                    obra?.kmFinal }}
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center justify-between leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <div class="flex">
                                                                    <mat-icon class="mr-2"
                                                                        [svgIcon]="'mat_solid:trip_origin'"></mat-icon>
                                                                    <div class="font-mono text-primary-500">
                                                                        <span class="font-bold">Código PNV/SRE:</span>
                                                                        {{
                                                                        obra?.codigo }}
                                                                    </div>
                                                                </div>
                                                                <div class="flex">
                                                                    <button mat-icon-button
                                                                        aria-label="button Informações"
                                                                        matTooltipPosition="above" matTooltip="
                                                    Inserir os códigos PNV ou SER que a obra engloba, utilizar o seguinte padrão: código + “;” + 
                                                    código (Ex,: 900AMG1210; 120CMG0190-01; 434EMG0200-01)">
                                                                        <mat-icon>
                                                                            <span class="material-symbols-outlined">
                                                                                info
                                                                            </span>
                                                                        </mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            <div
                                                                class="flex items-center leading-6 w-full p-3 border-2 border-light-blue-500 border-opacity-75 rounded-lg">
                                                                <mat-icon class="mr-2">
                                                                    <span class="material-symbols-outlined">
                                                                        conversion_path
                                                                    </span>
                                                                </mat-icon>
                                                                <div class="font-mono text-primary-500">
                                                                    <span class="font-bold">Versão:</span> {{
                                                                    obra?.versao }}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </ng-container>
                                                <!--Obra Rodoviária-->
                                            </div>
                                        </ng-container>

                                    </mat-expansion-panel>
                                </mat-accordion>

                            </ng-container>

                        </div>

                    </ng-container>

                </div>
            </div>
        </ng-container>

        <!-- Edit mode -->
        <ng-container *ngIf="editMode || creating">
            <!-- Header -->
            <div class="relative w-full h-40 sm:h-48 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">

                <!-- Close button -->
                <div class="flex items-center justify-end w-full max-w-3xl mx-auto pt-6">
                    <button mat-icon-button (click)="closeDrawer()" [matTooltip]="'Close'" [routerLink]="['../']">
                        <mat-icon class="text-black" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                    </button>
                </div>
                <div>
                    <h2 class="text-4xl">{{title}}</h2>
                </div>
            </div>

            <!-- Individuo form -->
            <div class="relative flex flex-col flex-auto px-2 sm:px-7">
                <div class="flex flex-col justify-center items-center w-full p-6" *ngIf="saving">
                    <ng-container>
                        <div>
                            <h3 class="text-3xl loader">Salvando dados
                                <span class="dot dot-1"></span>
                                <span class="dot dot-2"></span>
                                <span class="dot dot-3"></span>
                                <span class="dot dot-4"></span>
                            </h3>
                        </div>
                    </ng-container>
                </div>
                <!-- Form -->
                <form [formGroup]="empreendimentoForm" (ngSubmit)="onSubmit()" novalidate *ngIf="!saving">

                    <div class="mt-6 w-full">
                        <h3 class="text-3xl">Informações</h3>
                    </div>
                    <!-- Identificação -->
                    <div class="flex flex-col w-full">
                        <!-- Name -->
                        <div class="sm:col-span-4 mt-4">
                            <mat-form-field class="fuse-mat-no-subscript w-full" appearance="outline">
                                <mat-label>Nome</mat-label>
                                <mat-icon class="icon-size-5" [svgIcon]="'mat_outline:storefront'" matPrefix></mat-icon>
                                <input [formControl]="empreendimentoControlsForm.nome" matInput type="text">
                            </mat-form-field>
                        </div>

                        <!-- Description -->
                        <div class="sm:col-span-4 mt-4">
                            <mat-form-field class="fuse-mat-no-subscript w-full" appearance="fill">
                                <mat-label>Responsável</mat-label>
                                <mat-icon class="mr-2" matTooltipPosition="above" matTooltip="
                                O responsável é o órgão ou departamento incumbido do acompanhamento e/ou execução daquele 
                                empreendimento. Deve ser relacionado à gestão daquele empreendimento, seja 
                                subcontratando seus executores ou acompanhando seu andamento.">
                                    <span class="material-symbols-outlined">
                                        info
                                    </span>
                                </mat-icon>
                                <input [formControl]="empreendimentoControlsForm.responsavel" type="text" matInput>
                            </mat-form-field>
                        </div>

                        <div class="sm:col-span-4 mt-8">
                            <div class="flex-auto w-full">
                                <mat-form-field class="w-full" appearance="fill">
                                    <mat-label>Setor</mat-label>
                                    <mat-icon class="mr-2" svgIcon="mat_solid:admin_panel_settings"></mat-icon>
                                    <input matInput aria-label="Setor" [matAutocomplete]="auto"
                                        [formControl]="empreendimentoControlsForm.setor">

                                    <mat-spinner *ngIf="isLoading" diameter="20" matSuffix></mat-spinner>
                                    <mat-autocomplete #auto="matAutocomplete" [compareWith]="compareFn"
                                        [displayWith]="itemDisplayFn">
                                        <mat-option *ngFor="let setor of setores" [value]="setor" [id]="setor.id">
                                            {{ setor.descricao }}
                                        </mat-option>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="sm:col-span-4 mt-8">
                            <div class="flex-auto w-full">
                                <mat-form-field appearance="outline" class="w-full">
                                    <mat-label *ngIf="!isLoading">Natureza do Empreendimento</mat-label>
                                    <mat-label *ngIf="isLoading">
                                        <div class="select-placeholder-container justify-between">
                                            <span>Loading...</span>
                                            <mat-spinner class="spinner" diameter="20"></mat-spinner>
                                        </div>
                                    </mat-label>
                                    <mat-select formControlName="natureza_empreendimento" [compareWith]="compareFn"
                                        [(ngModel)]="selectedNatureza">
                                        <mat-option *ngFor="let natureza of naturezas" [value]="natureza"
                                            [id]="natureza.id">
                                            {{ natureza.descricao }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>

                            </div>
                        </div>

                    </div>

                    <!-- Divider -->
                    <div class="mt-11 mb-10 border-t"></div>

                    <!-- Actions -->
                    <div class="flex items-center justify-end mb-3">

                        <!-- Inativar -->
                        <mat-slide-toggle *ngIf="editMode" class="mt-2" [color]="'warn'"
                            [checked]="!empreendimento.status" (change)="desativaEmpreendimento($event)"
                            [matTooltip]="'Inativar'">Inativar
                        </mat-slide-toggle>
                        <!-- Cancel -->
                        <button class="ml-auto" type="button" mat-button [matTooltip]="'Cancelar'"
                            (click)="cancelEdit()">
                            Cancelar
                        </button>

                        <!-- Save -->
                        <button *ngIf="!editMode" class="ml-2" mat-flat-button [color]="'primary'" type="submit"
                            [matTooltip]="'Salvar'" [disabled]="empreendimentoForm.invalid">
                            Salvar
                        </button>

                        <!-- Update -->
                        <button *ngIf="editMode" class="ml-2" mat-flat-button type="button" [color]="'primary'"
                            [matTooltip]="'Atualizar'" [disabled]="empreendimentoForm.invalid"
                            (click)="updateEmpreendimento()">
                            Atualizar
                        </button>
                    </div>
                </form>

            </div>
        </ng-container>

    </ng-container>

    <!-- No Items -->
    <ng-template #noItems>
        <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center loader">Carregando
            Empreendimento
            <span class="dot dot-1"></span>
            <span class="dot dot-2"></span>
            <span class="dot dot-3"></span>
            <span class="dot dot-4"></span>
        </div>
    </ng-template>
</div>